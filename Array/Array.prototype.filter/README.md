Конспект

Метод filter() создаёт новый массив со всеми элементами, которые отвечают условию в передаваемой функции. Функция вызывается для каждого элемента в массиве.

Возвращаемое значение – новый массив с элементами, удовлетворяющими правилу, то есть всеми элементами, для которых вызываемая внутри метода функция вернула true.

Синтаксис: const newArray = array.filter(func(element[, index[, array]])[, thisArg])

Метод имеет следующие параметры:

обязательный – функцию func, в которой могут содержаться 3 необязательных параметра: текущий элемент массива (element), индекс текущего элемента (index) и массив (array);
необязательный (thisArg) – значение, используемое в качестве this при вызове функции func.
Рассмотрим на примере следующего массива применение метода filter(). Синтаксис func может быть разным (ниже представлены 3 варианта).

Задание 1. Вернуть в виде массива элементы, значение которых меньше или равно 0.

const arr = [1, -2, 3, -4, 5, -7, 0];
Использование стрелочной функции:
const arr2 = arr.filter(el => el <= 0);  // el - сокращенное от element
Создание функции и передача ее в метод.
function negative(num){ 
  return num <= 0;
}
const arr3 = arr.filter(negative); 
Использование стандартной функции в методе.
const arr4 = arr.filter(function (el){ 
  return el <= 0;
});
Все три переменные: arr2, arr3 и arr4 – вернут одинаковые значения:

console.log(arr2, arr3, arr4); // [-2, -4, -7, 0] 
Если ни один элемент не удовлетворяет правилу, то будет возвращен пустой массив [].

const arr5 = arr.filter(el => el > 10);
console.log(arr5); // [] 
Передача в функцию элемента и его индекса
Задание 2. Вернуть в виде массива элементы с нечетным индексом.

const array = ['a', 'b', 'c', 'd', 'e'];
const oddIndex = array.filter((el, i) => i % 2); // где el - сокращенное от element, i - от index
console.log(oddIndex); // ["b", "d"]
Пожалуй, самым удобным из всех способов записи является стрелочная функция. Два других варианта будут использоваться, если нам необходимо передать больше, чем одно условие.

Задание 3. Вернуть в виде массива элементы, содержащие подстроку "ca" и длина которых равна 3.

const arr = ['cat', 'case', 'Cap', 'cab'];
function getWord(word) {
  if (word.length === 3 && word.includes('ca')) return word;
}
const arr2 = arr.filter(getWord);
console.log(arr2); // ["cat", "cab"]
Исходный массив, к которому был применен метод filter(), не изменяется.

Подробнее читайте здесь:

https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/filter
